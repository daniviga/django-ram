{% load static %}
{% load solo_tags %}
{% load markdown %}
{% get_solo 'portal.SiteConfiguration' as site_conf %}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>{{ site_conf.site_name }}</title>
    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/album/">

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{% static "css/main.css" %}" rel="stylesheet">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
  </head>
  <body>
    
<header>
  <div class="navbar navbar-dark bg-dark shadow-sm">
    <div class="container">
      <a href="/" class="navbar-brand d-flex align-items-center">
        <svg class="me-2" width="26" height="16" enable-background="new 0 0 26 26" version="1" viewBox="0 0 26 16" xmlns="http://www.w3.org/2000/svg">
          <path d="m2.8125 0.0010991a1.0001 1.0001 0 0 0-0.8125 1c0 0.55455-0.44545 1-1 1a1.0001 1.0001 0 0 0-1 1v10a1.0001 1.0001 0 0 0 1 1c0.55455 0 1 0.44546 1 1a1.0001 1.0001 0 0 0 1 1h20a1.0001 1.0001 0 0 0 1-1c0-0.55454 0.44546-1 1-1a1.0001 1.0001 0 0 0 1-1v-10a1.0001 1.0001 0 0 0-1-1c-0.55454 0-1-0.44545-1-1a1.0001 1.0001 0 0 0-1-1h-20a1.0001 1.0001 0 0 0-0.09375 0 1.0001 1.0001 0 0 0-0.09375 0zm0.78125 2h14.406v1h2v-1h2.4062c0.30628 0.76906 0.82469 1.2875 1.5938 1.5938v8.8125c-0.76906 0.30628-1.2875 0.82469-1.5938 1.5938h-2.4062v-1h-2v1h-14.406c-0.30628-0.76906-0.82469-1.2875-1.5938-1.5938v-8.8125c0.76906-0.30628 1.2875-0.82469 1.5938-1.5938zm14.406 2v2h2v-2zm0 3v2h2v-2zm0 3v2h2v-2z" enable-background="accumulate" fill="#fff" overflow="visible" stroke-width="2" style="text-indent:0;text-transform:none"/>
        </svg>
        <strong>{{ site_conf.site_name }}</strong>
      </a>
    {% include 'login.html' %}
    </div>
  </div>
</header>

<main>
  <section class="py-1 text-start container">
    <div class="row py-lg-4">
      <div class="mx-auto">
        <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ rolling_stock }}</li>
          </ol>
        </nav>
        <h1 class="fw-light">{{ rolling_stock }}</h1>
      {% if rolling_stock.tags.all %}
      <p><small>Tags:</small>
       {% for t in rolling_stock.tags.all %}<span class="badge bg-primary">
        {{ t.name }}</span>{# new line is required #}
        {% endfor %}
      </p>
      {% endif %}
      </div>
    </div>
  </section>
  <section class="py-1 text-start container">
    <div class="row py-lg-2">
      <div class="mx-auto">
        <nav>
          <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <button class="nav-link active" id="nav-summary-tab" data-bs-toggle="tab" data-bs-target="#nav-summary" type="button" role="tab" aria-controls="nav-summary" aria-selected="true">Summary</button>
            <button class="nav-link" id="nav-model-tab" data-bs-toggle="tab" data-bs-target="#nav-model" type="button" role="tab" aria-controls="nav-model" aria-selected="false">Model data</button>
            <button class="nav-link" id="nav-class-tab" data-bs-toggle="tab" data-bs-target="#nav-class" type="button" role="tab" aria-controls="nav-class" aria-selected="false">Class data</button>
            {% if rolling_stock.decoder %}<button class="nav-link" id="nav-dcc-tab" data-bs-toggle="tab" data-bs-target="#nav-dcc" type="button" role="tab" aria-controls="nav-dcc" aria-selected="false">DCC</button>{% endif %}
            {% if rolling_stock.notes %}<button class="nav-link" id="nav-notes-tab" data-bs-toggle="tab" data-bs-target="#nav-notes" type="button" role="tab" aria-controls="nav-notes" aria-selected="false">Notes</button>{% endif %}
            {% if rolling_stock.property.count > 0 %}<button class="nav-link" id="nav-properties-tab" data-bs-toggle="tab" data-bs-target="#nav-properties" type="button" role="tab" aria-controls="nav-properties" aria-selected="false">Properties</button>{% endif %}
            {% if rolling_stock.document.count > 0 %}<button class="nav-link" id="nav-documents-tab" data-bs-toggle="tab" data-bs-target="#nav-documents" type="button" role="tab" aria-controls="nav-documents" aria-selected="false">Documents</button>{% endif %}
           </div>
        </nav>
        <div class="tab-content" id="nav-tabContent">
          <div class="tab-pane fade show active" id="nav-summary" role="tabpanel" aria-labelledby="nav-summary-tab">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th colspan="2" scope="row">Data</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th width="35%" scope="row">Type</th>
                  <td>{{ rolling_stock.rolling_class.type }}</td>
                </tr>
                <tr>
                  <th scope="row">Company</th>
                  <td><abbr title="{{ rolling_stock.rolling_class.company.extended_name }}">{{ rolling_stock.rolling_class.company }}</abbr></td>
                </tr>
                <tr>
                  <th scope="row">Class</th>
                  <td>{{ rolling_stock.rolling_class.identifier }}</td>
                </tr>
                <tr>
                  <th scope="row">Road number</th>
                  <td>{{ rolling_stock.road_number }}</td>
                </tr>
                <tr>
                  <th scope="row">Era</th>
                  <td>{{ rolling_stock.era }}</td>
                </tr>
              </tbody>
            </table>
            <table class="table table-striped">
              <thead>
                <tr>
                  <th colspan="2" scope="row">Model data</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th width="35%" scope="row">Manufacturer</th>
                  <td>{% if rolling_stock.manufacturer.website %}<a href="{{ rolling_stock.manufacturer.website }}">{% endif %}{{ rolling_stock.manufacturer }}{% if rolling_stock.manufacturer.website %}</a>{% endif %}</th>
                </tr>
                <tr>
                  <th scope="row">Scale</th>
                  <td><abbr title="{{ rolling_stock.scale.ratio }} - {{ rolling_stock.scale.gauge }}">{{ rolling_stock.scale }}</abbr></td>
                </tr>
                <tr>
                  <th scope="row">SKU</th>
                  <td>{{ rolling_stock.sku }}</td>
                </tr>
              </tbody>
            </table>
            {% if rolling_stock.decoder %}
            <table class="table table-striped">
              <thead>
                <tr>
                  <th colspan="2" scope="row">DCC data</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th width="35%" scope="row">Decoder</th>
                  <td>{{ rolling_stock.decoder }}</td>
                </tr>
                <tr>
                  <th scope="row">Address</th>
                  <td>{{ rolling_stock.address }}</td>
                </tr>
              </tbody>
            </table>
            {% endif %}
          </div>
          <div class="tab-pane fade" id="nav-model" role="tabpanel" aria-labelledby="nav-model-tab">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th colspan="2" scope="row">Model data</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th width="35%" scope="row">Manufacturer</th>
                  <td>{% if rolling_stock.manufacturer.website %}<a href="{{ rolling_stock.manufacturer.website }}">{% endif %}{{ rolling_stock.manufacturer }}{% if rolling_stock.manufacturer.website %}</a>{% endif %}</th>
                </tr>
                <tr>
                  <th scope="row">Scale</th>
                  <td><abbr title="{{ rolling_stock.scale.ratio }} - {{ rolling_stock.scale.gauge }}">{{ rolling_stock.scale }}</abbr></td>
                </tr>
                <tr>
                  <th scope="row">SKU</th>
                  <td>{{ rolling_stock.sku }}</td>
                </tr>
                <tr>
                  <th scope="row">ERA</th>
                  <td>{{ rolling_stock.era }}</td>
                </tr>
                <tr>
                  <th scope="row">Production year</th>
                  <td>{{ rolling_stock.production_year | default_if_none:"" }}</td>
                </tr>
                <tr>
                  <th scope="row">Purchase date</th>
                  <td>{{ rolling_stock.purchase_date | default_if_none:"" }}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="tab-pane fade" id="nav-class" role="tabpanel" aria-labelledby="nav-class-tab">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th colspan="2" scope="row">Class data</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th width="35%" scope="row">Class</th>
                  <td>{{ rolling_stock.rolling_class }}</td>
                </tr>
                <tr>
                  <th scope="row">Type</th>
                  <td>{{ rolling_stock.rolling_class.type }}</td>
                </tr>
                <tr>
                  <th scope="row">Company</th>
                  <td>{{ rolling_stock.rolling_class.company }} ({{ rolling_stock.rolling_class.company.extended_name }})</td>
                </tr>
                <tr>
                  <th scope="row">Country</th>
                  <td>{{ rolling_stock.rolling_class.company.country.name }}</td>
                </tr>
                <tr>
                  <th scope="row">Manufacturer</th>
                  <td>{{ rolling_stock.rolling_class.manufacturer }}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="tab-pane fade" id="nav-dcc" role="tabpanel" aria-labelledby="nav-dcc-tab">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th colspan="2" scope="row">DCC data</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th width="35%" scope="row">Name</th>
                  <td>{{ rolling_stock.decoder.name }}</td>
                </tr>
                <tr>
                  <th scope="row">Manufacturer</th>
                  <td>{{ rolling_stock.decoder.manufacturer }}</td>
                </tr>
                <tr>
                  <th scope="row">Version</th>
                  <td>{{ rolling_stock.decoder.version }}</td>
                </tr>
                <tr>
                  <th scope="row">Interface</th>
                  <td>{{ rolling_stock.decoder.get_interface_display }}</td>
                </tr>
                <tr>
                  <th scope="row">Sound</th>
                  <td>{{ rolling_stock.decoder.sound | yesno:"Yes,No" }}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="tab-pane fade" id="nav-notes" role="tabpanel" aria-labelledby="nav-notes-tab">
            {{ rolling_stock.notes | markdown | safe }}
          </div>
          <div class="tab-pane fade" id="nav-properties" role="tabpanel" aria-labelledby="nav-properties-tab">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th colspan="2" scope="row">Properties</th>
                </tr>
              </thead>
              <tbody>
              {% for p in rolling_stock.property.all %}
                <tr>
                  <th scope="row">{{ p.property }}</th>
                  <td>{{ p.value }}</td>
                </tr>
              {% endfor %}
              </tbody>
            </table>
          </div>
          <div class="tab-pane fade" id="nav-documents" role="tabpanel" aria-labelledby="nav-documents-tab">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th colspan="3" scope="row">Documents</th>
                </tr>
              </thead>
              <tbody>
              {% for d in rolling_stock.document.all %}
                <tr>
                  <td>{{ d.description }}</td>
                  <td><a href="{{ d.file.url }}">{{ d.filename }}</a></td>
                  <td class="text-end">{{ d.file.size | filesizeformat }}</td>
                </tr>
              {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
          {% if request.user.is_staff %}<a class="btn btn-sm btn-outline-danger" href="{% url 'admin:roster_rollingstock_change' rolling_stock.pk %}">Edit</a>{% endif %}
        </div>
      </div>
    </div>
  </section>
  <div class="album py-5 bg-light">
    <div class="container">
      <a id="rolling-stock"></a>
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        {% for t in rolling_stock.image.all %}
        <div class="col">
            <img class="img-thumbnail" src="{{ t.image.url }}" alt="Rolling stock image">
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</main>
{% include 'footer.html' %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
